/*
 * search
 */
.search {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: $deep-grey-color;
}

.search-close {
  float: right;
  margin-top: 20px;
  background: none;
  border: 0;
  cursor: pointer;
  &:focus,
  &:active {
    outline: 0;
  }
}

.searchbox {
  position: relative;
  margin-top: $spacing-unit * 3;
  height: 60px;
  .algolia-autocomplete { //iPhone 搜索框问题可能在这
    display: block;
    width: 100%;
    height: 100%;
  }
}

.searchbox-input {
  display: inline-block;
  -webkit-transition: box-shadow .4s ease, background .4s ease;
  transition: box-shadow .4s ease, background .4s ease;
  border: 0;
  border-bottom: 2px $grey-color solid;
  width: 100%; //搜索框百分百
  background: $deep-grey-color;
  color: $white-color;
  white-space: normal; // 连续的空白符会被合并，换行符会被当作空白符来处理
  font-size: $base-font-size * 3;
}

input[type="search"]::-ms-clear,
input[type="search"]::-ms-reveal {
  display: none; // 清除IE搜索框默认右端的X
}

.searchbox-input::-webkit-search-decoration,
.searchbox-input::-webkit-search-cancel-button,
.searchbox-input::-webkit-search-results-button,
.searchbox-input::-webkit-search-results-decoration {
  display: none; // 清除Chrome搜索框默认右端的X
}

.searchbox-input:focus,
.searchbox-input:active,
.searchbox-reset:focus {
  outline: 0;
}

.searchbox-reset {
  display: none;
  position: absolute;
  top: 16px;
  right: 0;
  border: 0;
  background: none;
  cursor: pointer;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none; // 元素内的文字及其子元素将不会被选中
}

.aa-dropdown-menu {
  position: absolute;
  margin-top: 16px;
  height: calc(100vh - 166px);
  width: 100%;
  color: $white-color;
  cursor: pointer;
  overflow: auto;
  h2 {
    margin-bottom: 0;
  }
  p {
    margin-bottom: $spacing-unit / 3;
  }
  code {
    background: $deep-grey-color;
  }
  a {
    color: $white-color;
    pointer-events: none; // 链接失效
  }
}

.aa-suggestion {
  padding: 4px;
  border-bottom: lighten($deep-grey-color, 5%) 1px solid;
  em {
    color: $red-color;
  }
  &.aa-cursor {
    background: lighten($deep-grey-color, 5%); // 鼠标键盘选中的背景色
  }
}

.search-nav {
  margin-top: $spacing-unit / 2;
}

.search-nav-title {
  display: block;
  color: $white-color;
  font-size: $base-font-size * 3;
  &:hover {
    background: lighten($deep-grey-color, 5%);
  }
}